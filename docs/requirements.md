# 📌 요구사항 분석서 - Posty

## 1. 프로젝트 개요

- Posty는 사용자가 자유롭게 게시물을 작성하고, 다른 사람과 댓글 및 좋아요를 통해 소통할 수 있는 커뮤니티 웹 애플리케이션입니다.
- 사용 편의성을 위해 JWT 인증 및 소셜 로그인 기능을 지원하며, 실시간 알림 기능과 효율적인 검색 기능을 제공합니다.
- 관리자는 Grafana와 Prometheus를 이용해 시스템 상태를 모니터링할 수 있습니다.

## 2. 주요 기능 목록

- 회원가입
- 로그인/로그아웃 (일반 로그인 및 소셜 로그인 지원)
- 게시물 작성 / 수정 / 삭제 / 검색
- 댓글 작성 / 수정 / 삭제
- 좋아요 기능
- 실시간 알림 기능
- 관리자 대시보드 (모니터링)

## 3. 비즈니스 요구사항

### 회원가입

- 사용자는 이메일, 비밀번호, 닉네임을 입력하여 회원가입할 수 있다.
- 이메일은 중복될 수 없다.
- 비밀번호는 영문자와 숫자를 포함하고, 최소 8자 이상이어야 한다.
- 닉네임은 2자 이상, 10자 이하로 제한한다.
- 가입 완료 후 로그인 페이지로 이동한다.

### 로그인/로그아웃

- 사용자는 가입한 이메일과 비밀번호를 통해 로그인할 수 있다.
- 로그인 성공 시 JWT 토큰이 발급된다.
- 소셜 로그인(Kakao)을 지원한다.
- 소셜 로그인 시 최초 로그인 시 추가 정보 입력이 필요할 수 있다.
- 로그아웃 시 클라이언트의 JWT 토큰을 제거한다.

### 게시물 작성 / 수정 / 삭제 / 검색

- 사용자는 게시물 제목과 본문을 작성할 수 있다.
- 사용자는 익명으로 게시물을 작성할 지 선택할 수 있다.
- 제목은 최소 1자 이상, 최대 100자까지 입력할 수 있다.
- 본문은 최대 10,000자까지 작성할 수 있다.
- 게시물은 작성자만 수정하거나 삭제할 수 있다.
- 사용자는 게시물 제목 또는 본문 키워드를 통해 게시물을 검색할 수 있다.

### 댓글 작성 / 수정 / 삭제

- 사용자는 게시물에 댓글을 작성할 수 있다.
- 사용자는 익명으로 댓글을 작성할 지 선택할 수 있다.
- 댓글 내용은 최소 1자 이상, 최대 500자까지 입력할 수 있다.
- 댓글 작성자는 본인이 작성한 댓글만 수정하거나 삭제할 수 있다.

### 좋아요 기능

- 사용자는 게시물에 좋아요를 누를 수 있다.
- 같은 게시물에 대해 좋아요는 1번만 누를 수 있으며, 다시 누르면 좋아요가 취소된다.
- 좋아요는 동시성 문제를 고려해 트랜잭션 처리로 보장한다.

### 알림 기능

- 사용자가 작성한 게시물이나 댓글에 반응(댓글 작성, 좋아요)이 있을 경우 알림을 받을 수 있다.
- 알림은 Redis Pub/Sub를 통해 비동기적으로 처리된다.
- 사용자는 읽지 않은 알림 목록을 조회할 수 있다.

### 관리자 대시보드

- 관리자는 Grafana를 통해 서버 모니터링 대시보드를 확인할 수 있다.
- Prometheus를 통해 서버 메트릭(CPU, Memory, 트래픽, 에러율 등)을 수집한다.

## 4. 시스템 제약사항

- MVP 기준 소셜 로그인은 Kakao만 지원한다.
- 검색 기능은 ElasticSearch로 제공한다.
- 알림 기능은 초당 100건 이상의 트래픽을 감당할 수 있도록 Redis를 이용한 비동기 설계를 적용한다.
